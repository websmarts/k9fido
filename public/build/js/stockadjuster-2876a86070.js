!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,e,r){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,r){var n,o;r(6),n=r(1);var i=r(4);o=n=n||{},"object"!=typeof n["default"]&&"function"!=typeof n["default"]||(o=n=n["default"]),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,t.exports=n},function(t,e,r){"use strict";e["default"]={data:function(){return{barcode:null,product_code:null,product_find_key:null,qty_ordered:0,qty_available:0,qty_onshelf:0,adjusted_qty_onshelf:0,product_id:0,updated:!1,loaded:!1,error:!1,message:null}},methods:{barcodeInput:function(t){var e=t.toString().trim();this.barcode=e.substring(0,12),12!=this.barcode.length||this.loaded?this.clearForm():this.findItem()},productCodeInput:function(t){this.product_code=t.toString().trim()},focusOn:function(t){this.loaded&&(this.clearForm(),this.barcode=null,this.product_code=null)},findItem:function(){var t=this,e={barcode:null!==this.barcode&&12==this.barcode.length?this.barcode:null,product_code:this.product_code};this.$http.post(pageVar.url+"/find",e).then(function(e){var r=e.body;t.product_id=r.id,t.qty_available=parseInt(r.qty_instock),t.qty_ordered=parseInt(r.ordered),t.qty_onshelf=parseInt(r.qty_instock)+parseInt(r.ordered),t.adjusted_qty_onshelf=t.qty_onshelf,null===t.product_code&&(t.product_code=r.product_code),null===t.barcode&&(t.barcode=r.barcode),t.loaded=!0,t.error=!1,t.$refs.qty_on_shelf.focus()},function(e){t.clearForm(),t.error=!0})},adjustItem:function(t){var e=this,r={qty_instock:this.adjusted_qty_onshelf-this.qty_ordered};this.$http.post(pageVar.url+"/"+this.product_id,r).then(function(t){var r=t.body;e.product_id=r.id,e.qty_available=parseInt(r.qty_instock),e.qty_ordered=parseInt(r.ordered),e.qty_onshelf=e.qty_available+e.qty_ordered,e.adjusted_qty_onshelf=e.qty_onshelf,e.clearForm(),e.barcode=null,e.product_code=null,e.$refs.barcode_input.focus()},function(t){e.clearForm(),e.error=!0})},clearForm:function(){this.qty_available=0,this.qty_ordered=0,this.qty_onshelf=0,this.adjusted_qty_onshelf=0,this.product_id=0,this.updated=!1,this.loaded=!1,this.error=!1,this.$refs.barcode_input.focus()}},mounted:function(){this.$refs.barcode_input.focus()}}},function(t,e,r){e=t.exports=r(3)(),e.push([t.i,"\n.updated {\r\n  background: #ccffcc;\n}\n.loaded {\r\n  background: #ccccff;\n}\n.error {\r\n  background: #fcc;\n}\r\n\r\n\r\n",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var d=e[o];"number"==typeof d[0]&&n[d[0]]||(r&&!d[2]?d[2]=r:r&&(d[2]="("+d[2]+") and ("+r+")"),t.push(d))}},t}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",[t._v("Stock Adjuster")]),t._v(" "),t._m(0),t._v(" "),r("div",{"class":{error:t.error}},[t._v(t._s(t.message))]),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{flex:"1"}},[t._v("Barcode:")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[r("input",{ref:"barcode_input",staticStyle:{width:"8em"},attrs:{name:"barcode",type:"number"},domProps:{value:t.barcode},on:{input:function(e){t.barcodeInput(e.target.value)},focus:function(e){t.focusOn(e.target)}}})])]),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%"}},[r("div",{staticStyle:{flex:"1"}},[t._v("P.code:")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[r("input",{ref:"product_code_input",staticStyle:{width:"8em"},attrs:{name:"product_code",type:"text"},domProps:{value:t.product_code},on:{input:function(e){t.productCodeInput(e.target.value)},focus:function(e){t.focusOn(e.target)}}})])]),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%"}},[r("div",{staticStyle:{flex:"1"}},[t._v(" ")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[r("button",{"class":{loaded:t.loaded,error:t.error},on:{click:t.findItem}},[t._v("Find item")])])]),t._v(" "),r("div",{staticStyle:{"border-top":"1px dashed #999",margin:"15px 0"}}),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%"}},[r("div",{staticStyle:{flex:"1"}},[t._v("Qty on order:")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[t._v(t._s(t.qty_ordered))])]),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%"}},[r("div",{staticStyle:{flex:"1"}},[t._v("Qty available:")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[t._v(t._s(t.qty_available))])]),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%"}},[r("div",{staticStyle:{flex:"1"}},[t._v("Qty shelf:")]),t._v(" "),r("div",{staticStyle:{flex:"1"}},[t._v(t._s(t.qty_onshelf))])]),t._v(" "),r("div",{staticStyle:{display:"flex",width:"100%",padding:"5px"}},[r("div",{staticStyle:{flex:"1"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.adjusted_qty_onshelf,expression:"adjusted_qty_onshelf"}],ref:"qty_on_shelf",staticStyle:{width:"4em"},attrs:{type:"text"},domProps:{value:t.adjusted_qty_onshelf},on:{input:function(e){e.target.composing||(t.adjusted_qty_onshelf=e.target.value)}}})]),t._v(" "),r("div",{staticStyle:{flex:"2"}},[r("button",{"class":{updated:t.updated},attrs:{disabled:!t.product_id>0},on:{click:t.adjustItem}},[t._v("Actual shelf qty")]),t._v(" ")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("Enter Barcode OR a Product Code and then click the "),r("strong",[t._v("Find item")]),t._v(" button")])}]}},function(t,e){function r(t,e){for(var r=0;r<t.length;r++){var n=t[r],o=l[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(s(n.parts[i],e))}else{for(var d=[],i=0;i<n.parts.length;i++)d.push(s(n.parts[i],e));l[n.id]={id:n.id,refs:1,parts:d}}}}function n(t){for(var e=[],r={},n=0;n<t.length;n++){var o=t[n],i=o[0],d=o[1],s=o[2],a=o[3],c={css:d,media:s,sourceMap:a};r[i]?r[i].parts.push(c):e.push(r[i]={id:i,parts:[c]})}return e}function o(t,e){var r=p(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function d(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function s(t,e){var r,n,o;if(e.singleton){var s=h++;r=v||(v=d(e)),n=a.bind(null,r,s,!1),o=a.bind(null,r,s,!0)}else r=d(e),n=c.bind(null,r),o=function(){i(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}function a(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),d=t.childNodes;d[e]&&t.removeChild(d[e]),d.length?t.insertBefore(i,d[e]):t.appendChild(i)}}function c(t,e){var r=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var l={},u=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=u(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,h=0,_=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=n(t);return r(o,e),function(t){for(var i=[],d=0;d<o.length;d++){var s=o[d],a=l[s.id];a.refs--,i.push(a)}if(t){var c=n(t);r(c,e)}for(var d=0;d<i.length;d++){var a=i[d];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete l[a.id]}}}};var y=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e,r){var n=r(2);"string"==typeof n&&(n=[[t.i,n,""]]);r(5)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){Vue.component("Stockadjuster",r(0));new Vue({el:"#app"})}]);