!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){var i,r;n(6),i=n(1);var s=n(4);r=i=i||{},"object"!=typeof i["default"]&&"function"!=typeof i["default"]||(r=i=i["default"]),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,t.exports=i},function(t,e,n){"use strict";e["default"]={props:["json_client","url"],data:function(){return{prices:[],client:{},add_product_code:"",add_product_price:0,message:""}},methods:{saveChanges:function(){var t=[];if(_.each(this.prices,function(e){e.client_price!==e.updated_price&&t.push({product_code:e.product_code,price:e.updated_price})}),t.length>0){var e={client_id:this.client.client_id,updates:t,action:"update_prices"};this.message="saving ....",this.remote(e).then(function(){this.message=""}.bind(this))}},addProduct:function(){var t={client_id:this.client.client_id,product_code:this.add_product_code,client_price:this.add_product_price,action:"add_product"};this.message="adding ...."+this.add_product_code,this.remote(t).then(function(){this.message=""}.bind(this)),this.add_product_code="",this.add_product_price=0},deleteProduct:function(t){var e={client_id:this.client.client_id,product_code:t,action:"delete_product"};this.message="deleting ....",this.remote(e).then(function(){this.message=""}.bind(this))},getPriceList:function(){var t={client_id:this.client.client_id,action:"get_client_prices"};this.message="loading prices ....",this.remote(t).then(function(){this.message=""}.bind(this))},remote:function(t){var e=this;return this.$http.post(this.url,t).then(function(t){var n=t.body;e.prices=[],_.each(n,function(t){t.updated_price=t.client_price,this.prices.push(t)}.bind(e))},function(t){})}},mounted:function(){this.client=JSON.parse(this.json_client),this.getPriceList()}}},function(t,e,n){e=t.exports=n(3)(),e.push([t.i,"\n#pricelist input {\n  width: 6em;\n}\n#pricelist .fa-minus-circle {\n  color: #ff0000;\n}\n#pricelist .message {\n  padding: 10px;\n  color: white;\n  background: blue;\n}\n",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"pricelist"}},[n("h3",[t._v(t._s(t.client.name))]),t._v(" "),t.message?n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 message"},[n("span",{domProps:{textContent:t._s(t.message)}})])]):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.add_product_code,expression:"add_product_code"}],attrs:{type:"text"},domProps:{value:t.add_product_code},on:{input:function(e){e.target.composing||(t.add_product_code=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-sm-3 col-sm-offset-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.add_product_price,expression:"add_product_price"}],attrs:{type:"text"},domProps:{value:t.add_product_price},on:{input:function(e){e.target.composing||(t.add_product_price=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-sm-3"},[n("button",{staticClass:"btn",on:{click:t.addProduct}},[t._v("Add product")])])]),t._v(" "),t._l(t.prices,function(e){return n("div",{staticClass:"row",attrs:{"track-by":"id"}},[n("div",{staticClass:"col-sm-3"},[t._v(t._s(e.product_code))]),t._v(" "),n("div",{staticClass:"col-sm-3"},[t._v(t._s(e.std_price))]),t._v(" "),n("div",{staticClass:"col-sm-3"},[t._v(t._s(e.client_price))]),t._v(" "),n("div",{staticClass:"col-sm-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.updated_price,expression:"price.updated_price"}],domProps:{value:e.updated_price},on:{input:function(n){n.target.composing||t.$set(e,"updated_price",n.target.value)}}}),t._v(" "),n("i",{staticClass:"fa fa-minus-circle",attrs:{"aria-hidden":"true"},on:{click:function(n){t.deleteProduct(e.product_code)}}})])])}),t._v(" "),n("button",{staticClass:"btn btn-primary pull-right",on:{click:t.saveChanges}},[t._v("Save")])],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3"},[t._v("Product code")]),t._v(" "),n("div",{staticClass:"col-sm-3"},[t._v("Std price")]),t._v(" "),n("div",{staticClass:"col-sm-3"},[t._v("Client price")]),t._v(" "),n("div",{staticClass:"col-sm-3"},[t._v("Updated price")])])}]}},function(t,e){function n(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=u[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(c(i.parts[s],e))}else{for(var o=[],s=0;s<i.parts.length;s++)o.push(c(i.parts[s],e));u[i.id]={id:i.id,refs:1,parts:o}}}}function i(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],s=r[0],o=r[1],c=r[2],a=r[3],d={css:o,media:c,sourceMap:a};n[s]?n[s].parts.push(d):e.push(n[s]={id:s,parts:[d]})}return e}function r(t,e){var n=f(),i=_[_.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function c(t,e){var n,i,r;if(e.singleton){var c=h++;n=v||(v=o(e)),i=a.bind(null,n,c,!1),r=a.bind(null,n,c,!0)}else n=o(e),i=d.bind(null,n),r=function(){s(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function a(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function d(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},l=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,h=0,_=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=l()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var s=[],o=0;o<r.length;o++){var c=r[o],a=u[c.id];a.refs--,s.push(a)}if(t){var d=i(t);n(d,e)}for(var o=0;o<s.length;o++){var a=s[o];if(0===a.refs){for(var p=0;p<a.parts.length;p++)a.parts[p]();delete u[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(2);"string"==typeof i&&(i=[[t.i,i,""]]);n(5)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){Vue.config.devtools=!0,Vue.component("ClientPrices",n(0));new Vue({el:"#app"})}]);