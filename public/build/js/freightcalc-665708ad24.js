!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){new Vue({el:"#app",data:{client:"",location:"",postcode:"",suburb:"",statecode:"",locationValid:!1,newPackage:{},packages:[],companies:{},lowestTotalQuote:{},lowestPackageQuote:{},quotes:[],inputMessage:""},computed:{actualWeight:function(){return _.sumBy(this.packages,function(t){var e=parseFloat(t.weight);if(!isNaN(e))return e})},cubicWeight:function(){return _.sumBy(this.packages,function(t){var e=parseFloat(t.length)*parseFloat(t.width)*parseFloat(t.height)*250/1e6;if(!isNaN(e))return e})}},methods:{quoteTotal:function(t){var e=_.chain(t).map("cost").sum().value(),n=_.every(this.packages,function(e){return _.find(t,function(t){return t.package_id==e.id})});return console.log("All Packages",n),e.toFixed(2)},companyQuotes:function(t){var e=_.find(this.quotes,function(e){return e.company==t});return console.log(t,e),e},formKeyup:function(){this.inputMessage=""},addPackage:function(){"undefined"!=typeof this.newPackage.length&&parseFloat(this.newPackage.length)>0&&"undefined"!=typeof this.newPackage.width&&parseFloat(this.newPackage.width)>0&&"undefined"!=typeof this.newPackage.height&&parseFloat(this.newPackage.height)>0&&"undefined"!=typeof this.newPackage.weight&&parseFloat(this.newPackage.weight)>0?(this.newPackage.id=this.packages.length+1,this.packages.push(this.newPackage),this.newPackage={}):this.inputMessage="Invalid input, try again ..."},getQuotes:function(){this.locationValid&&this.packages.length>0&&this.remote({packages:this.packages,postcode:this.postcode,suburb:this.suburb,statecode:this.statecode})},packageData:function(t){return"L: "+t.length+" W: "+t.width+" H: "+t.height+" Kg: "+t.weight},remote:function(t){var e=this,n="/freight/quote";return this.$http.post(n,t).then(function(t){var n=t.body.quotes,a=e;_.each(n,function(t){_.each(t,function(t,e){t.total=_.chain(t.quotes).map("cost").sum().value();var n=_.map(a.packages,"id"),i=_.chain(t.quotes).map("package_id").value();t.missed_packages=_.difference(n,i)})}),e.companies=t.body.companies,e.quotes=n},function(t){})},querySearchAsync:function(t,e){if(t.length<3)return void e([{value:"min three characters"}]);var n="/freight/location?postcode="+t;return this.$http.get(n).then(function(t){var n=t.body;e(n)},function(t){})},handleLocationSelect:function(t){var e=t.value.split(",");this.postcode=e[0].trim(),this.suburb=e[1].trim(),this.statecode=e[2].trim(),this.postcode.length>2&&this.suburb.length>3&&this.statecode.length>1&&(this.locationValid=!0),this.quotes=[]},lookupClientAsync:function(t,e){if(t.length<3)return void e([{value:"min three characters"}]);var n="/clientlookup?q="+t;return this.$http.get(n).then(function(t){console.log(t.body);var n=t.body,a=_.map(n,function(t){return{value:t.name+", "+t.postcode+", "+t.city+", "+t.state}});console.log(a),e(a)},function(t){})},handleClientSelect:function(t){var e=t.value.split(",");this.postcode=e[1].trim(),this.suburb=e[2].trim(),this.statecode=e[3].trim(),this.postcode.length>2&&this.suburb.length>3&&this.statecode.length>1&&(this.locationValid=!0),this.quotes=[]}}})}]);